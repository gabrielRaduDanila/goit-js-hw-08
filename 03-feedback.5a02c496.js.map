{"mappings":"yhBASAA,EATmBC,IACjB,MAAMC,EAAUC,SAASC,cAAcH,GACvC,GAAIC,EACF,OAAOA,EAEP,MAAMG,MAAM,OAAOJ,6BAAqC,E,ICS5DK,EAXmBC,E,YAAEC,UAASC,IAC5B,IAAIC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQC,IAC7CL,IACHA,EAAc,CAAEM,MAAO,GAAIC,QAAS,KAEtC,MAAMf,EAAUO,EAAES,OACZC,EAAajB,EAAQkB,MAC3BV,EAAYR,EAAQmB,MAAQF,EAC5BT,EAAcC,KAAKW,UAAUZ,GAC7BG,aAAaU,QAAQR,EAASL,EAAY,GACzC,K,ICAHc,EAXoB,KAClB,IAAId,EAAcC,KAAKC,MAAMC,aAAaC,QAAQC,IAClD,GAAIL,EACF,IAAK,IAAIe,KAAOf,EAAa,CAC3B,IAAIgB,EAAgBvB,SAASwB,kBAAkB,GAAGF,KAClDC,EAAgBA,EAAc,GAC9BA,EAAcN,MAAQV,EAAYe,E,OCMxCG,EAXoBnB,IAClBA,EAAEoB,iBACF,IAAInB,EAAcG,aAAaC,QAAQC,GACvCL,EAAcC,KAAKC,MAAMF,GACzBoB,QAAQC,IAAIrB,GACZA,EAAc,CAAEM,MAAO,GAAIC,QAAS,IACpCP,EAAcC,KAAKW,UAAUZ,GAC7BG,aAAaU,QAAQR,EAASL,GAC9Bc,GAAa,ECJR,MAAMT,EAAU,sBACViB,EAAehC,EAAW,kBAGvCgC,EAAaC,iBAAiB,QAAS3B,GACvC4B,OAAOD,iBAAiB,mBAAoBT,GAC5CQ,EAAaC,iBAAiB,SAAUL","sources":["src/js/getElement.js","src/js/feedback-form/input-event.js","src/js/feedback-form/refreshForm.js","src/js/feedback-form/submitEvent.js","src/js/feedback.js"],"sourcesContent":["const getElement = selection => {\n  const element = document.querySelector(selection);\n  if (element) {\n    return element;\n  } else {\n    throw Error(`the ${selection} is not a valid selection`);\n  }\n};\n\nexport default getElement;\n","import { formKey } from '../feedback';\nimport _ from 'lodash';\n\nconst inputEvent = _.throttle(e => {\n  let formStorage = JSON.parse(localStorage.getItem(formKey));\n  if (!formStorage) {\n    formStorage = { email: '', message: '' };\n  }\n  const element = e.target;\n  const typedValue = element.value;\n  formStorage[element.name] = typedValue;\n  formStorage = JSON.stringify(formStorage);\n  localStorage.setItem(formKey, formStorage);\n}, 500);\nexport default inputEvent;\n","import { formKey } from '../feedback';\n\nconst refreshForm = () => {\n  let formStorage = JSON.parse(localStorage.getItem(formKey));\n  if (formStorage) {\n    for (let key in formStorage) {\n      let inputSelected = document.getElementsByName(`${key}`);\n      inputSelected = inputSelected[0];\n      inputSelected.value = formStorage[key];\n    }\n  }\n};\n\nexport default refreshForm;\n","import { formKey } from '../feedback.js';\nimport refreshForm from './refreshForm.js';\n\nconst submitEvent = e => {\n  e.preventDefault();\n  let formStorage = localStorage.getItem(formKey);\n  formStorage = JSON.parse(formStorage);\n  console.log(formStorage);\n  formStorage = { email: '', message: '' };\n  formStorage = JSON.stringify(formStorage);\n  localStorage.setItem(formKey, formStorage);\n  refreshForm();\n};\n\nexport default submitEvent;\n","// imports\nimport getElement from './getElement.js';\nimport inputEvent from './feedback-form/input-event.js';\nimport refreshForm from './feedback-form/refreshForm.js';\nimport submitEvent from './feedback-form/submitEvent.js';\n\n// exports\nexport const formKey = 'feedback-form-state';\nexport const feedbackForm = getElement('.feedback-form');\n\n// events\nfeedbackForm.addEventListener('input', inputEvent);\nwindow.addEventListener('DOMContentLoaded', refreshForm);\nfeedbackForm.addEventListener('submit', submitEvent);\n"],"names":["$d742509f12ca1483$export$2e2bcd8739ae039","selection","element","document","querySelector","Error","$b5dedd3693da365d$export$2e2bcd8739ae039","$parcel$interopDefault","throttle","e","formStorage","JSON","parse","localStorage","getItem","$f9c8fe53a3f1e506$export$3967c4a8eec5e2c7","email","message","target","typedValue","value","name","stringify","setItem","$9a9f60a10ddcc33a$export$2e2bcd8739ae039","key","inputSelected","getElementsByName","$9d506ef7d54f696f$export$2e2bcd8739ae039","preventDefault","console","log","$f9c8fe53a3f1e506$export$937c9ae41ec12435","addEventListener","window"],"version":3,"file":"03-feedback.5a02c496.js.map"}